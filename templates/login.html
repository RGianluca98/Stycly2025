{% extends "base.html" %}
{% block title %}Login{% endblock %}
{% block content %}
<h1>Accesso semplice</h1>
<form method="post" action="{{ url_for('login') }}">
  <label>Email o Username</label>
  <input type="text" name="email_or_username" required>

  <label>Password</label>
  <input type="password" name="password" required>

  <button type="submit">Accedi</button>
</form>
<a href="{{ url_for('register') }}">Non hai un account? Registrati</a>

<!-- Fancy Login/Register Form -->
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<div class="tpl-container" id="tpl-container">
  <div class="tpl-form-container tpl-sign-in-container">
    <form method="post" action="{{ url_for('login') }}">
      <h1>Accedi</h1>
      <div class="tpl-social-container">
        <a href="#"><i class="fab fa-facebook-f"></i></a>
        <a href="#"><i class="fab fa-google-plus-g"></i></a>
        <a href="#"><i class="fab fa-linkedin-in"></i></a>
      </div>
      <span>oppure usa le tue credenziali</span>
      <input type="text" name="email_or_username" placeholder="Email o Username" />
      <input type="password" name="password" placeholder="Password" />
      <a href="#">Hai dimenticato la password?</a>
      <button>Accedi</button>
    </form>
  </div>

  <div class="tpl-form-container tpl-sign-up-container">
    <form method="post" action="{{ url_for('register') }}">
      <h1>Crea Account</h1>
      <div class="tpl-social-container">
        <a href="#"><i class="fab fa-facebook-f"></i></a>
        <a href="#"><i class="fab fa-google-plus-g"></i></a>
        <a href="#"><i class="fab fa-linkedin-in"></i></a>
      </div>
      <span>oppure registrati con email</span>
      <input type="text" name="username" placeholder="Nome" />
      <input type="email" name="email" placeholder="Email" />
      <input type="password" name="password" placeholder="Password" />
      <button>Registrati</button>
    </form>
  </div>

  <div class="tpl-overlay-container">
    <div class="tpl-overlay">
      <div class="tpl-overlay-panel tpl-overlay-left">
        <h1>Ben tornato!</h1>
        <p>Effettua l'accesso per continuare</p>
        <button class="ghost" id="tpl-signIn">Accedi</button>
      </div>
      <div class="tpl-overlay-panel tpl-overlay-right">
        <h1>Nuovo qui?</h1>
        <p>Inserisci i tuoi dati per registrarti</p>
        <button class="ghost" id="tpl-signUp">Registrati</button>
      </div>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const tplContainer = document.getElementById('tpl-container');
  const tplSignUp = document.getElementById('tpl-signUp');
  const tplSignIn = document.getElementById('tpl-signIn');

  if (tplSignUp && tplContainer) {
    tplSignUp.addEventListener('click', () => {
      tplContainer.classList.add("tpl-right-panel-active");
    });
  }

  if (tplSignIn && tplContainer) {
    tplSignIn.addEventListener('click', () => {
      tplContainer.classList.remove("tpl-right-panel-active");
    });
  }
});
</script>
{% endblock %}
